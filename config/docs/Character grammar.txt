S' -> MAIN
MAIN -> CHARACTER_LIST [MAIN.res = CHARACTER_LIST.list]

CHARACTER_LIST -> COMMON_CHARACTER [CHARACTER_LIST.list = [COMMON_CHARACTER.char]]
CHARACTER_LIST -> COMMON_CHARACTER CHARACTER_LIST` [CHARACTER_LIST.list = UNION(COMMON_CHARACTER.char, CHARACTER_LIST`.list)]
CHARACTER_LIST` -> COMMON_CHARACTER [CHARACTER_LIST`.list = [COMMON_CHARACTER.char]]
CHARACTER_LIST` -> COMMON_CHARACTER CHARACTER_LIST`1 [CHARACTER_LIST.list = UNION(COMMON_CHARACTER.char, CHARACTER_LIST`1.list)]

COMMON_CHARACTER -> CHARACTER [COMMON_CHARACTER.char = CHARACTER.char]
COMMON_CHARACTER -> CHARACTER_NO_SPRITE [COMMON_CHARACTER.char = CHARACTER_NO_SPRITE.char]

CHARACTER -> char name : SPRITE_BLOCK [CHARACTER.char = (name.lexval, SPRITE_BLOCK.list)]
CHARACTER_NO_SPRITE -> char name [CHARACTER_NO_SPRITE.char = (name.lexval, null)]

SPRITE_BLOCK -> t SPRITE_LIST [SPRITE_BLOCK.list = SPRITE_LIST.list]

SPRITE_LIST -> SPRITE [SPRITE_LIST.list = [SPRITE.sprite]]
SPRITE_LIST -> SPRITE SPRITE_LIST` [SPRITE_LIST.list = UNION(SPRITE.sprite, SPRITE_LIST`.list)]
SPRITE_LIST` -> t SPRITE SPRITE_LIST`1 [SPRITE_LIST`.list = UNION(SPRITE.sprite, SPRITE_LIST`1.list)]
SPRITE_LIST` -> t SPRITE [SPRITE_LIST`.list = [SPRITE.sprite]]

SPRITE -> name = path [SPRITE.sprite=(name.lexval, path.lexval)]